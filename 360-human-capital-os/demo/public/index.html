<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>360 Human Capital OS – Employee Console</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <header class="topbar">
      <div class="topbar-inner">
        <div class="brand">
          <div class="brand-icon">360</div>
          <div class="brand-text">
            <div class="brand-title">Human Capital OS</div>
            <div class="brand-subtitle">Employee Console</div>
          </div>
        </div>
        <nav class="nav">
          <a href="index.html" class="nav-link nav-link-active">Employee</a>
          <a href="hr.html" class="nav-link">HR / People</a>
        </nav>
      </div>
    </header>

    <main class="layout">
      <section class="column column-main">
        <section class="card">
          <div class="card-header">
            <h1>Today’s Check-in</h1>
            <p class="card-subtitle">
              Capture your emotional state and work snapshot in under a minute.
            </p>
          </div>
          <div class="two-column">
            <div class="field-group">
              <label>
                Employee ID
                <input id="employeeId" type="text" value="e-001" />
              </label>
              <p class="hint">
                Use any ID such as <code>e-001</code>. Data is grouped per ID.
              </p>
              <button id="seedButton" class="btn-secondary">
                Seed demo data (5 days)
              </button>
              <div id="seedResult" class="result"></div>
            </div>
          </div>
        </section>

        <section class="card">
          <div class="card-header">
            <h2>Facial Emotion Check-in</h2>
            <p class="card-subtitle">
              Use your camera to estimate emotion, then confirm and log the check-in.
            </p>
          </div>
          <div class="two-column two-column-stretch">
            <div class="camera-panel">
              <div class="camera-shell">
                <video id="cameraPreview" autoplay muted playsinline></video>
                <div id="cameraOverlay" class="camera-overlay">Camera idle</div>
              </div>
              <div class="camera-actions">
                <button id="startCameraButton" class="btn-outline">
                  Start camera
                </button>
                <button id="captureEmotionButton" class="btn-primary">
                  Capture from face
                </button>
                <button id="autoLogButton" class="btn-secondary">
                  Start auto logging
                </button>
              </div>
              <p id="cameraStatus" class="hint status"></p>
            </div>

            <div class="field-group">
              <label>
                Detected emotion
                <input id="emotionFromFace" type="text" readonly placeholder="Not captured yet" />
              </label>
              <div class="field-row">
                <label>
                  Stress level (0 – 1)
                  <input
                    id="stressLevel"
                    type="number"
                    min="0"
                    max="1"
                    step="0.1"
                    value="0.5"
                  />
                </label>
                <label>
                  Mood score (0 – 1)
                  <input
                    id="moodScore"
                    type="number"
                    min="0"
                    max="1"
                    step="0.1"
                    value="0.6"
                  />
                </label>
              </div>
              <button id="emotionButton" class="btn-primary">
                Log emotion check-in
              </button>
              <div id="emotionResult" class="result"></div>
            </div>
          </div>
        </section>

        <section class="card">
          <div class="card-header">
            <h2>Work Snapshot</h2>
            <p class="card-subtitle">
              Capture how much focused work you completed in this block.
            </p>
          </div>
          <div class="field-row">
            <label>
              Tasks completed
              <input id="tasksCompleted" type="number" min="0" step="1" value="5" />
            </label>
            <label>
              Focus minutes
              <input id="focusMinutes" type="number" min="0" step="15" value="90" />
            </label>
          </div>
          <button id="productivityButton" class="btn-primary">
            Log productivity snapshot
          </button>
          <div id="productivityResult" class="result"></div>
        </section>
      </section>

      <section class="column column-side">
        <section class="card">
          <div class="card-header">
            <h2>My Daily Insights</h2>
            <p class="card-subtitle">
              See how your stress, mood, and work patterns combine.
            </p>
          </div>
          <button id="insightsButton" class="btn-outline block">
            Refresh insights
          </button>
          <pre id="insightsResult" class="result block"></pre>
        </section>

        <section class="card">
          <div class="card-header">
            <h2>Emotion Trend</h2>
            <p class="card-subtitle">
              Auto-logged stress and mood over time based on your check-ins.
            </p>
          </div>
          <div class="chart-container">
            <canvas id="emotionChart"></canvas>
          </div>
          <p id="emotionChartStatus" class="hint status"></p>
        </section>

        <section class="card">
          <div class="card-header">
            <h2>Personalized Incentives</h2>
            <p class="card-subtitle">
              Simple, data-backed suggestions that could keep you motivated and healthy.
            </p>
          </div>
          <button id="incentivesButton" class="btn-outline block">
            Refresh incentive ideas
          </button>
          <pre id="incentivesResult" class="result block"></pre>
        </section>

        <section class="card">
          <div class="card-header">
            <h2>Continuous Review Snapshot</h2>
            <p class="card-subtitle">
              A narrative view of your recent patterns that replaces yearly reviews.
            </p>
          </div>
          <button id="reviewButton" class="btn-outline block">
            Generate review snapshot
          </button>
          <pre id="reviewResult" class="result block"></pre>
        </section>
      </section>
    </main>

    <footer class="footer">
      <p>
        This is an MVP interface for the Unified 360 Human Capital OS. Integrate your facial
        emotion model and connect real HRIS/task systems as next steps.
      </p>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="employee.js"></script>
  </body>
</html>
